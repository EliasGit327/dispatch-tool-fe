"use strict";(self.webpackChunkdispath_tool_fe=self.webpackChunkdispath_tool_fe||[]).push([[234],{7234:(D,p,r)=>{r.r(p),r.d(p,{AuthModule:()=>G});var g=r(6895),d=r(9299),t=r(4650),b=r(8386),v=r(5025),c=r(7009),f=r(4859),h=r(7392),l=r(3546),U=r(4850),C=r(3162),u=r(9549),_=r(4144),s=r(4006);function T(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.authData.name="")}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function x(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.isPasswordHidden=!o.isPasswordHidden)}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA()()}if(2&e){const a=t.oxw();t.xp6(2),t.Oqu(a.isPasswordHidden?"visibility_off":"visibility")}}function P(e,i){1&e&&(t.TgZ(0,"mat-card-footer"),t._UZ(1,"mat-progress-bar",21),t.qZA())}function w(e,i){if(1&e&&(t.TgZ(0,"div",22),t._uU(1),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.hij(" ",a.errorMessage," ")}}const Z=function(){return["/auth","sign-up"]};let A=(()=>{class e{constructor(a,n,o,m){this.authService=a,this.router=n,this.httpAuthService=o,this.snackBar=m,this.isLoading=!1,this.authData={name:"",password:""},this.isPasswordHidden=!0}ngOnInit(){}loginBtnPressed(){this.isLoading=!this.isLoading,this.httpAuthService.login(this.authData).subscribe({next:n=>{this.authService.setToken(n.token)},error:n=>{this.snackBar.open(0!=n.status?n.error.message:"Connection refused","Close",{duration:2e3,panelClass:["bg-red-700","text-white"]})}}).add(()=>this.isLoading=!1)}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(b.K),t.Y36(d.F0),t.Y36(v.d),t.Y36(c.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login-page"]],decls:37,vars:13,consts:[[1,"flex","container","mx-auto","my-auto","justify-center","items-center","h-full"],[1,"m-4","md:max-w-sm","w-full"],[1,"mat-elevation-z4"],["mat-card-avatar","",1,"flex","justify-center","items-center"],[1,"grid","grid-cols-12","gap-1"],[1,"col-span-12"],["appearance","standard",1,"w-full"],["matInput","","type","text",3,"ngModel","disabled","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matInput","",3,"type","ngModel","disabled","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Show",3,"click",4,"ngIf"],["inset",""],[1,"flex","justify-center"],["mat-button","",3,"click"],[4,"ngIf"],["class","mat-error flex justify-center text-center my-4",4,"ngIf"],[1,"mt-6","flex","flex-col","justify-center"],["mat-button","",3,"routerLink"],["mat-button","","disabled","",3,"routerLink"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matSuffix","","mat-icon-button","","aria-label","Show",3,"click"],["mode","indeterminate"],[1,"mat-error","flex","justify-center","text-center","my-4"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"div",3)(5,"mat-icon"),t._uU(6,"login"),t.qZA()(),t.TgZ(7,"mat-card-title"),t._uU(8,"Login"),t.qZA(),t.TgZ(9,"mat-card-subtitle"),t._uU(10,"Using an existing account"),t.qZA()(),t.TgZ(11,"mat-card-content")(12,"div",4)(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Username"),t.qZA(),t.TgZ(17,"input",7),t.NdJ("ngModelChange",function(m){return n.authData.name=m}),t.qZA(),t.YNc(18,T,3,0,"button",8),t.qZA()(),t.TgZ(19,"div",5)(20,"mat-form-field",6)(21,"mat-label"),t._uU(22,"Password"),t.qZA(),t.TgZ(23,"input",9),t.NdJ("ngModelChange",function(m){return n.authData.password=m}),t.qZA(),t.YNc(24,x,3,1,"button",10),t.qZA()()()(),t._UZ(25,"mat-divider",11),t.TgZ(26,"mat-card-actions")(27,"div",12)(28,"button",13),t.NdJ("click",function(){return n.loginBtnPressed()}),t._uU(29,"Login"),t.qZA()()(),t.YNc(30,P,2,0,"mat-card-footer",14),t.qZA(),t.YNc(31,w,2,1,"div",15),t.TgZ(32,"div",16)(33,"button",17),t._uU(34," SIGN UP "),t.qZA(),t.TgZ(35,"button",18),t._uU(36," FORGOT PASSWORD "),t.qZA()()()()),2&a&&(t.xp6(17),t.Q6J("ngModel",n.authData.name)("disabled",n.isLoading),t.xp6(1),t.Q6J("ngIf",n.authData.name&&!n.isLoading),t.xp6(5),t.Q6J("type",n.isPasswordHidden?"password":"text")("ngModel",n.authData.password)("disabled",n.isLoading),t.xp6(1),t.Q6J("ngIf",!n.isLoading),t.xp6(6),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",n.errorMessage),t.xp6(2),t.Q6J("routerLink",t.DdM(11,Z)),t.xp6(2),t.Q6J("routerLink",t.DdM(12,Z)))},dependencies:[g.O5,d.rH,f.lW,h.Hw,l.a8,l.dk,l.dn,l.n5,l.$j,l.hq,l.rt,l.kc,U.d,C.pW,u.KE,u.hX,u.R9,_.Nt,s.Fj,s.JJ,s.On]}),e})();class S{constructor(i){Object.assign(this,i)}}var L=r(6074);function k(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.clearNameBtnClick())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function y(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Name is required "),t.qZA())}function J(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Min length is 7 symbols "),t.qZA())}function q(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return t.KtG(o.isPasswordHidden=!o.isPasswordHidden)}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA()()}if(2&e){const a=t.oxw();t.xp6(2),t.Oqu(a.isPasswordHidden?"visibility_off":"visibility")}}function I(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Password is required "),t.qZA())}function N(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Min length is 7 symbols "),t.qZA())}function M(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Repeat password "),t.qZA())}function Q(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Min length is 7 symbols "),t.qZA())}function F(e,i){1&e&&(t.TgZ(0,"mat-card-footer"),t._UZ(1,"mat-progress-bar",21),t.qZA())}const Y=function(){return["/auth","login"]},B=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"",children:[{path:"login",component:A},{path:"sign-up",component:(()=>{class e{constructor(a,n,o){this.httpUsers=a,this.snackBar=n,this.formBuilder=o,this.isLoading=!1,this.repeatedPassword="",this.isPasswordHidden=!0,this.signUpFG=this.formBuilder.group({name:["",[s.kI.required,s.kI.minLength(7)]],password:["",[s.kI.required,s.kI.minLength(7)]],repeatPassword:["",[s.kI.required,s.kI.minLength(7)]]}),this.signUpCtrl=this.signUpFG.controls}ngOnInit(){}confirmPassword(a,n,o){return a.value&&null===n.controls[o].value&&n.controls[o].value!==a.value?{mismatch:!0}:{mismatch:!1}}onSuccess(a){this.snackBar.open("User has been created!","Close",{duration:2e3,panelClass:["bg-green-700","text-white"]}),this.signUpFG.reset()}clearNameBtnClick(){this.signUpFG.patchValue({name:""})}onSignUpBtnClick(){this.signUpCtrl.password.value===this.signUpCtrl.repeatPassword.value?this.createUser():this.snackBar.open("Passwords does not match!","Close",{duration:2e3,panelClass:["bg-red-700","text-white"]})}createUser(){this.signUpFG.disable(),this.isLoading=!0,this.httpUsers.createUser(new S(this.signUpFG.value)).subscribe({next:n=>this.onSuccess(n),error:n=>{this.snackBar.open(0!=n.status?n.error.message:"Connection refused","Close",{duration:2e3,panelClass:["bg-red-700","text-white"]})}}).add(()=>{this.signUpFG.enable(),this.isLoading=!1})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(L.z),t.Y36(c.ux),t.Y36(s.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-sign-up-page"]],decls:46,vars:15,consts:[[1,"flex","container","mx-auto","my-auto","justify-center","items-center","h-full"],[1,"m-4","md:max-w-sm","w-full"],[1,"mat-elevation-z4"],["mat-card-avatar","",1,"flex","justify-center","items-center"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-1"],[1,"col-span-12"],["appearance","standard",1,"w-full"],["matInput","","type","text","formControlName","name"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["matSuffix","","mat-icon-button","","aria-label","Show",3,"click",4,"ngIf"],["matInput","","formControlName","repeatPassword",3,"type"],["inset",""],[1,"flex","justify-center"],["mat-button","",3,"disabled","click"],[1,"mt-6","flex","flex-col","justify-center"],["mat-button","",3,"routerLink"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matSuffix","","mat-icon-button","","aria-label","Show",3,"click"],["mode","indeterminate"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"div",3)(5,"mat-icon"),t._uU(6,"person_add"),t.qZA()(),t.TgZ(7,"mat-card-title"),t._uU(8,"Sign up"),t.qZA(),t.TgZ(9,"mat-card-subtitle"),t._uU(10,"Creating a new account in the system"),t.qZA()(),t.TgZ(11,"mat-card-content")(12,"form",4)(13,"div",5)(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"Username"),t.qZA(),t._UZ(18,"input",8),t.YNc(19,k,3,0,"button",9),t.YNc(20,y,2,0,"mat-error",10),t.YNc(21,J,2,0,"mat-error",10),t.qZA()(),t.TgZ(22,"div",6)(23,"mat-form-field",7)(24,"mat-label"),t._uU(25," Password "),t.qZA(),t._UZ(26,"input",11),t.YNc(27,q,3,1,"button",12),t.YNc(28,I,2,0,"mat-error",10),t.YNc(29,N,2,0,"mat-error",10),t.qZA()(),t.TgZ(30,"div",6)(31,"mat-form-field",7)(32,"mat-label"),t._uU(33,"Repeat password"),t.qZA(),t._UZ(34,"input",13),t.YNc(35,M,2,0,"mat-error",10),t.YNc(36,Q,2,0,"mat-error",10),t.qZA()()()()(),t._UZ(37,"mat-divider",14),t.TgZ(38,"mat-card-actions")(39,"div",15)(40,"button",16),t.NdJ("click",function(){return n.onSignUpBtnClick()}),t._uU(41," Sign up "),t.qZA()()(),t.YNc(42,F,2,0,"mat-card-footer",10),t.qZA(),t.TgZ(43,"div",17)(44,"button",18),t._uU(45," LOGIN "),t.qZA()()()()),2&a&&(t.xp6(12),t.Q6J("formGroup",n.signUpFG),t.xp6(7),t.Q6J("ngIf",!n.isLoading),t.xp6(1),t.Q6J("ngIf",null==n.signUpCtrl||null==n.signUpCtrl.name?null:n.signUpCtrl.name.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==n.signUpCtrl||null==n.signUpCtrl.name?null:n.signUpCtrl.name.hasError("minlength")),t.xp6(5),t.Q6J("type",n.isPasswordHidden?"password":"text"),t.xp6(1),t.Q6J("ngIf",!n.isLoading),t.xp6(1),t.Q6J("ngIf",null==n.signUpCtrl||null==n.signUpCtrl.password?null:n.signUpCtrl.password.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==n.signUpCtrl||null==n.signUpCtrl.password?null:n.signUpCtrl.password.hasError("minlength")),t.xp6(5),t.Q6J("type",n.isPasswordHidden?"password":"text"),t.xp6(1),t.Q6J("ngIf",null==n.signUpCtrl||null==n.signUpCtrl.password?null:n.signUpCtrl.password.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==n.signUpCtrl||null==n.signUpCtrl.password?null:n.signUpCtrl.password.hasError("minlength")),t.xp6(4),t.Q6J("disabled",!n.signUpFG.valid),t.xp6(2),t.Q6J("ngIf",n.isLoading),t.xp6(2),t.Q6J("routerLink",t.DdM(14,Y)))},dependencies:[g.O5,d.rH,f.lW,h.Hw,l.a8,l.dk,l.dn,l.n5,l.$j,l.hq,l.rt,l.kc,U.d,C.pW,u.TO,u.KE,u.hX,u.R9,_.Nt,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]}),e})()}]}];let H=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(B),d.Bz]}),e})();var j=r(4872);let G=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,H,d.Bz,j.q,s.u5,s.UX]}),e})()}}]);